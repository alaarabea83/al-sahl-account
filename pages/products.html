<!doctype html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="../css/style.css" />
    <link rel="icon" type="image/png" href="../icons/logo.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Cairo:wght@600;700&family=Tajawal:wght@400;500&display=swap"
      rel="stylesheet"
    />

    <title>Ø³Ù‡Ù„ Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª</title>
    <style>
      body {
        font-family: "Tajawal", sans-serif;
        background: #f4f6f9;
        margin: 0;
      }

      header {
        font-family: "Cairo", sans-serif;
        font-weight: 700;
        background: #18204a;
        text-align: center;
        color: #fff;
        padding: 1rem;
      }

      h1,
      h2,
      h3 {
        font-family: "Cairo", sans-serif;
        font-weight: 700;
        margin: 10px;
      }

      section {
        max-width: 1000px;
        margin: 2rem auto;
        padding: 1rem;
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
      }

      .t-container {
        background: #fff;
        padding: 1.5rem;
        border-radius: 12px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
      }

      .form-row {
        display: flex;
        gap: 0.5rem;
        flex-wrap: wrap;
        justify-content: center;
      }

      .form-row input {
        flex: 1;
        min-width: 120px;
        padding: 0.5rem;
        font-size: 1rem;
        border-radius: 5px;
        border: 1px solid #ccc;
      }

      .form-row button {
        padding: 0.5rem 1.2rem;
        font-size: 1rem;
        background: #18204a;
        color: #fff;
        border: none;
        cursor: pointer;
        border-radius: 5px;
        transition: 0.3s;
      }

      .form-row button:hover {
        background: #21618c;
      }

      table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 1rem;
      }

      th {
        background: #2e86c1;
        color: #fff;
        padding: 0.6rem;
      }

      td {
        text-align: center;
        padding: 0.6rem;
        border-bottom: 1px solid #e0e0e0;
      }

      td .btn {
        padding: 0.3rem 0.8rem;
        margin: 0 2px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-size: 0.9rem;
      }

      tbody tr:hover {
        background: #f4f6f8;
      }

      .table-scroll {
        width: 100%;
        overflow-x: auto;
      }

      .table-scroll table {
        min-width: 900px;
        /* ÙŠÙ…Ù†Ø¹ ØªÙƒØ³ÙŠØ± Ø§Ù„Ø£Ø¹Ù…Ø¯Ø© */
      }

      .table-scroll::-webkit-scrollbar {
        height: 6px;
      }

      .table-scroll::-webkit-scrollbar-thumb {
        background: #2e86c1;
        border-radius: 10px;
      }

      /* Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ø£Ø²Ø±Ø§Ø± */
      .actions {
        display: flex;
        flex-wrap: wrap;
        /* ØªØ®Ù„ÙŠ Ø§Ù„Ø£Ø²Ø±Ø§Ø± ØªÙ†Ø²Ù„ Ø³Ø·Ø± Ø«Ø§Ù†ÙŠ Ù„Ùˆ Ø¶ÙŠÙ‚ Ø§Ù„Ù…ÙƒØ§Ù† */
        gap: 1px;
        /* Ù…Ø³Ø§ÙØ© Ø¨ÙŠÙ† Ø§Ù„Ø£Ø²Ø±Ø§Ø± */
        justify-content: center;
        /* ØªØ®Ù„ÙŠ Ø§Ù„Ø£Ø²Ø±Ø§Ø± ÙÙŠ Ø§Ù„ÙˆØ³Ø· */
      }

      /* Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø¯Ø§Ø®Ù„ container - Ù„Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ± */
      .actions .btn {
        min-width: 25px;
        /* ÙŠÙ…Ù†Ø¹ Ø§Ù„Ø²Ø± Ù…Ù† Ø£Ù† ÙŠÙƒÙˆÙ† Ø¶ÙŠÙ‚ Ø¬Ø¯Ù‹Ø§ */
        margin-bottom: 3px;
        /* Ù…Ø³Ø§ÙØ© ØµØºÙŠØ±Ø© Ø¨ÙŠÙ† Ø§Ù„ØµÙÙˆÙ Ù„Ùˆ wrap */
        flex: unset;
        /* Ø¹Ù„Ù‰ Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ± Ù„Ø§ ÙŠÙ…ØªØ¯ */
        border-radius: 8px;
      }

      /* Ù„Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ØµØºÙŠØ±Ø© (Ù…ÙˆØ¨Ø§ÙŠÙ„) */
      @media (max-width: 600px) {
        .actions .btn {
          flex: 0 0 auto;
          /* ÙŠØ³Ù…Ø­ Ù„Ù„Ø²Ø± Ø¨Ø§Ù„ØªÙˆØ³Ø¹ Ù‚Ù„ÙŠÙ„Ø§Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ */
        }
      }

      .btn-edit {
        background: #f1c40f;
        color: #fff;
      }

      .btn-edit:hover {
        background: #e0a800;
      }

      .btn-delete {
        background: #dc3545;
        color: #fff;
      }

      .btn-delete:hover {
        background: #a71d2a;
      }

      .btn-info {
        background: #2e86c1;
        color: #fff;
      }

      .btn-info:hover {
        background: #117a8b;
      }

      /* Ù…ÙˆØ¯Ø§Ù„Ø§Øª Ø¹ØµØ±ÙŠÙ‡ */
      .modal-overlay {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        justify-content: center;
        align-items: center;
        z-index: 999;
      }

      .modal-box {
        background: #fff;
        padding: 1.5rem;
        border-radius: 10px;
        text-align: center;
        min-width: 300px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      }

      .modal-box h3 {
        margin-bottom: 0.8rem;
        color: #2e86c1;
      }

      .modal-box label {
        display: block;
        margin-top: 0.5rem;
        font-weight: 500;
        text-align: right;
      }

      .modal-box input {
        width: 100%;
        margin-top: 0.2rem;
        padding: 0.4rem;
        font-size: 1rem;
        border-radius: 5px;
        border: 1px solid #ccc;
      }

      .modal-box button {
        margin-top: 1rem;
        padding: 0.5rem 1rem;
        border: none;
        border-radius: 5px;
        background: #2e86c1;
        color: #fff;
        cursor: pointer;
      }

      .modal-box button.cancel {
        background: #dc3545;
      }

      #productsTable tbody tr:last-child {
        border-top: 2px solid #2e86c1;
      }
    </style>
  </head>

  <body>
    <header>
      <h2>ğŸ“¦ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</h2>
      <nav class="breadcrumbs">
        <a href="../index.html" class="home">Ø§Ù„Ø£Ù‚Ø³Ø§Ù…</a>
        <span class="separator">â€º</span>
        <a href="../pages/customers.html" class="home">Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</a>
        <span class="separator">â€º</span>
        <span class="current">Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</span>
        <span class="separator">â€º</span>
        <a href="../pages/sales.html" class="home">Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª</a>
        <span class="separator">â€º</span>
        <a href="../pages/purchases.html" class="home"> Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª</a>
        <span class="separator">â€º</span>
        <a href="../pages/income.html" class="home">Ø§Ù„Ù…Ù‚Ø¨ÙˆØ¶Ø§Øª</a>
        <span class="separator">â€º</span>
        <a href="../pages/expenses.html" class="home">Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª</a>
        <span class="separator">â€º</span>
        <a href="../pages/cash.html" class="home">Ø§Ù„Ø®Ø²ÙŠÙ†Ø©</a>
      </nav>
    </header>

    <section>
      <div class="t-container">
        <h3>â• Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯</h3>
        <div class="form-row">
          <input type="text" id="productName" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬" />

          <input type="number" id="productQty" placeholder="Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ø¥ÙØªØªØ§Ø­ÙŠ" />

          <select id="productUnit">
            <option value="">Ø§Ù„ÙˆØ­Ø¯Ø©</option>
            <option value="Ù‚Ø·Ø¹Ø©">Ù‚Ø·Ø¹Ø©</option>
            <option value="ÙƒØ±ØªÙˆÙ†Ø©">ÙƒØ±ØªÙˆÙ†Ø©</option>
            <option value="ÙƒØ¬Ù…">ÙƒØ¬Ù…</option>
            <option value="Ù„ØªØ±">Ù„ØªØ±</option>
          </select>

          <input type="number" id="productPrice" placeholder="Ø³Ø¹Ø± Ø§Ù„Ø¨ÙŠØ¹" />

          <input type="number" id="productBuyPrice" placeholder="Ø³Ø¹Ø± Ø§Ù„Ø´Ø±Ø§Ø¡" />

          <button id="addProductBtn">âœš Ø¥Ø¶Ø§ÙØ©</button>
        </div>
      </div>

      <div class="t-container">
        <h3>ğŸ“‹ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</h3>
        <!-- Ø­Ù‚Ù„ Ø§Ù„Ø¨Ø­Ø« -->
        <input
          type="text"
          id="searchProduct"
          placeholder="ğŸ” Ø§Ø¨Ø­Ø« Ø¨Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬..."
          style="
            display: block;
            padding: 10px;
            border-radius: 8px;
            border: 1px solid #ccc;
            margin: 0 auto 15px auto;
            width: 90%;
            max-width: 400px;
            font-size: 15px;
          "
        />

        <div class="table-scroll">
          <table id="productsTable">
            <thead>
              <tr>
                <th>#</th>
                <th>Ø§Ù„Ù…Ù†ØªØ¬</th>
                <th>Ø§Ù„ÙƒÙ…ÙŠØ©</th>
                <th>Ø§Ù„ÙˆØ­Ø¯Ø©</th>
                <th>Ø³Ø¹Ø± Ø§Ù„Ø¨ÙŠØ¹</th>
                <th>Ø³Ø¹Ø± Ø§Ù„Ø´Ø±Ø§Ø¡</th>
                <th>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</th>
                <th>Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
              </tr>
            </thead>

            <tbody></tbody>
          </table>
        </div>
        <a href="../index.html" class="back-btn">ğŸ  Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
      </div>
    </section>

    <!-- Ù…ÙˆØ¯Ø§Ù„ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡ -->
    <div id="appModal" class="modal-overlay">
      <div class="modal-box">
        <h3 id="modalTitle">ØªÙ†Ø¨ÙŠÙ‡</h3>
        <p id="modalMessage"></p>
        <button onclick="closeModal()">Ø­Ø³Ù†Ø§Ù‹</button>
      </div>
    </div>

    <!-- Ù…ÙˆØ¯Ø§Ù„ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬ -->
    <div id="editModal" class="modal-overlay">
      <div class="modal-box">
        <h3>ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬</h3>

        <label>Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬</label>
        <input type="text" id="editProductName" />

        <label>Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ø§ÙØªØªØ§Ø­ÙŠ</label>
        <input type="number" id="editProductQty" />

        <label>Ø§Ù„ÙˆØ­Ø¯Ø©</label>
        <select id="editProductUnit">
          <option value="Ù‚Ø·Ø¹Ø©">Ù‚Ø·Ø¹Ø©</option>
          <option value="ÙƒØ±ØªÙˆÙ†Ø©">ÙƒØ±ØªÙˆÙ†Ø©</option>
          <option value="ÙƒØ¬Ù…">ÙƒØ¬Ù…</option>
          <option value="Ù„ØªØ±">Ù„ØªØ±</option>
        </select>

        <label>Ø³Ø¹Ø± Ø§Ù„Ø¨ÙŠØ¹</label>
        <input type="number" id="editProductPrice" />

        <label>Ø³Ø¹Ø± Ø§Ù„Ø´Ø±Ø§Ø¡</label>
        <input type="number" id="editProductBuyPrice" />

        <div style="margin-top: 10px">
          <button onclick="saveProductEdit()">Ø­ÙØ¸</button>
          <button class="cancel" onclick="closeEditModal()">Ø¥Ù„ØºØ§Ø¡</button>
        </div>
      </div>
    </div>

    <!-- Ù…ÙˆØ¯Ø§Ù„ Ø­Ø°Ù Ø§Ù„Ù…Ù†ØªØ¬ -->
    <div id="deleteModal" class="modal-overlay">
      <div class="modal-box">
        <h3>ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø°Ù</h3>
        <p>Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ù…Ù†ØªØ¬ØŸ</p>
        <button onclick="confirmDelete()">Ù†Ø¹Ù…</button>
        <button class="cancel" onclick="closeDeleteModal()">Ø¥Ù„ØºØ§Ø¡</button>
      </div>
    </div>

    <!-- Ù…ÙˆØ¯Ø§Ù„ Ø§Ù„Ù†Ø¬Ø§Ø­ -->
    <div id="successModal" class="modal-overlay">
      <div class="modal-box">
        <h3>Ù†Ø¬Ø§Ø­</h3>
        <p id="successMessage">ØªÙ…Øª Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø¨Ù†Ø¬Ø§Ø­ âœ…</p>
        <button onclick="closeSuccessModal()">Ø­Ø³Ù†Ø§Ù‹</button>
      </div>
    </div>

    <!-- Product Movement Modal -->
    <div id="productMovementModal" class="modal-overlay">
      <div
        class="modal-card"
        style="
          background: #ffffff;
          padding: 25px 22px;
          border-radius: 16px;
          width: 600px;
          max-width: 95%;
          max-height: 80vh; /* Ø§Ø±ØªÙØ§Ø¹ Ø§Ù„Ù…ÙˆØ¯Ø§Ù„ */
          overflow-y: auto; /* ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø³Ø­Ø¨ Ø§Ù„Ø¹Ù…ÙˆØ¯ÙŠ */
          scrollbar-width: none;
          box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
          animation: fadeInUp 0.3s ease;
        "
      >
        <h3 style="text-align: center; margin-bottom: 15px; color: #2e86c1">
          Ø­Ø±ÙƒØ© Ø§Ù„ØµÙ†Ù
        </h3>
        <p
          id="movementProductName"
          style="
            font-weight: bold;
            text-align: center;
            margin-bottom: 20px;
            color: #444;
            font-size: 14px;
          "
        ></p>
        <table style="width: 100%; border-collapse: collapse; margin-top: 15px">
          <thead>
            <tr>
              <th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th>
              <th>Ù†ÙˆØ¹ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©</th>
              <th>ÙƒÙ…ÙŠØ©</th>
              <th>Ø§Ù„Ø±ØµÙŠØ¯ Ø¨Ø¹Ø¯ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©</th>
            </tr>
          </thead>
          <tbody id="movementBody"></tbody>
        </table>
        <div class="modal-actions">
          <button class="btn-secondary" onclick="closeProductMovementModal()">
            Ø¥ØºÙ„Ø§Ù‚
          </button>
        </div>
      </div>
    </div>

    <script src="../js/data.js"></script>
    <script src="../js/products.js"></script>
  </body>
</html>
