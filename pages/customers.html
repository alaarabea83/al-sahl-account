<!doctype html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="../css/style.css" />
    <link rel="icon" type="image/png" href="../icons/logo.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Cairo:wght@600;700&family=Tajawal:wght@400;500&display=swap"
      rel="stylesheet"
    />

    <title>Ø³Ù‡Ù„ Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª</title>

    <style>
      body {
        font-family: "Tajawal", sans-serif;
        background: #f4f6f9;
        margin: 0;
      }

      header {
        background: #18204a;
        color: #fff;
        padding: 1rem;
        text-align: center;
      }

      section {
        max-width: 1000px;
        margin: 20px auto;
        background: #fff;
        padding: 20px;
        border-radius: 12px;
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.08);
        display: flex;
        flex-direction: column;
        gap: 25px;
      }

      h1,
      h2,
      h3 {
        font-family: "Cairo", sans-serif;
        font-weight: 700;
        margin: 10px;
      }

      .card {
        background: #fdfefe;
        border-radius: 12px;
        padding: 20px;
        border: 1px solid #e5e7e9;
      }

      .form-row {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
      }

      input {
        flex: 1;
        min-width: 180px;
        padding: 10px;
        border-radius: 8px;
        border: 1px solid #ccc;
        font-size: 15px;
      }

      button {
        padding: 10px 18px;
        border-radius: 8px;
        border: none;
        cursor: pointer;
        font-size: 14px;
        transition: 0.2s;
      }

      .btn-add {
        background: #18204a;
        color: #fff;
      }

      .btn-add:hover {
        background: #21618c;
      }

      table {
        width: 100%;
        border-collapse: collapse;
      }

      th {
        background: #2e86c1;
        color: #fff;
        padding: 12px;
      }

      td {
        padding: 12px;
        text-align: center;
        border-bottom: 1px solid #eee;
      }

      tbody tr:hover {
        background: #f4f6f8;
      }

      .actions button {
        flex: 1 1 auto;
        /* ÙŠØ³Ù…Ø­ Ù„Ù„Ø²Ø± Ø¨Ø§Ù„ØªÙˆØ³Ø¹ Ù‚Ù„ÙŠÙ„Ù‹Ø§ Ø¹Ù†Ø¯ Ø§Ù„Ø­Ø§Ø¬Ø© */
        min-width: 45px;
        /* ÙŠÙ…Ù†Ø¹ Ø§Ù„Ø²Ø± Ù…Ù† Ø£Ù† ÙŠÙƒÙˆÙ† ØµØºÙŠØ± Ø¬Ø¯Ù‹Ø§ */
        padding: 6px 10px;
        font-size: 13px;
        margin-bottom: 3px;
        /* Ù…Ø³Ø§ÙØ© ØµØºÙŠØ±Ø© Ø¨ÙŠÙ† Ø§Ù„ØµÙÙˆÙ Ù„Ùˆ wrap */
      }

      .btn-edit {
        background: #f1c40f;
        color: #000;
      }

      .btn-delete {
        background: #e74c3c;
        color: #fff;
      }

      .btn-primary {
        background: #2e86c1;
        color: #fff;
      }

      /* ===== MODALS ===== */

      .modal-overlay {
        display: none;
        position: fixed;
        inset: 0;
        background: rgba(0, 0, 0, 0.5);
        backdrop-filter: blur(4px);
        align-items: center;
        justify-content: center;
        z-index: 999;
      }

      /* Customer Statement Modal */

      #statementModal .modal-card {
        width: 600px;
        max-width: 95%;
        max-height: 80vh;
        overflow-y: auto;
        scrollbar-width: none;
        padding: 20px;
        display: flex;
        flex-direction: column;
      }

      #statementModal .modal-actions button {
        flex: 0;
        /* ÙŠÙ…Ù†Ø¹ Ø§Ù„Ø²Ø± Ù…Ù† Ø§Ù„ØªÙ…Ø¯Ø¯ */
        padding: 10px 25px;
      }

      /* Ø­Ø§ÙˆÙŠØ© Ø¬Ø¯ÙˆÙ„ ÙƒØ´Ù Ø§Ù„Ø­Ø³Ø§Ø¨ */
      .statement-table-wrapper {
        max-height: 400px;
        /* Ø§Ø±ØªÙØ§Ø¹ Ø«Ø§Ø¨Øª Ù…Ø¹ Ø§Ù„Ø³ÙƒØ±ÙˆÙˆÙ„ Ø§Ù„Ø¹Ù…ÙˆØ¯ÙŠ */
        overflow: auto;
        /* ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø³ÙƒØ±ÙˆÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø­ÙˆØ±ÙŠÙ† */
        scrollbar-width: none;
        border: 1px solid #ccc;
        border-radius: 8px;
      }

      /* ØªØ¸Ù„ Ø¹Ù†Ø§ÙˆÙŠÙ† Ø§Ù„Ø£Ø¹Ù…Ø¯Ø© Ø«Ø§Ø¨ØªØ© Ø¥Ø°Ø§ Ø­Ø¨ÙŠØª */
      .statement-table-wrapper table {
        border-collapse: collapse;
        min-width: 600px;
        /* ÙŠØ¶Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø³ÙƒØ±ÙˆÙˆÙ„ Ø£ÙÙ‚ÙŠ Ù„Ùˆ Ø§Ù„Ø¬Ø¯ÙˆÙ„ ÙˆØ§Ø³Ø¹ */
      }

      .statement-table-wrapper th,
      .statement-table-wrapper td {
        padding: 10px;
        text-align: center;
        border-bottom: 1px solid #eee;
      }

      .modal-card {
        background: #ffffff;
        padding: 25px 22px;
        border-radius: 16px;
        width: 360px;
        max-width: 90%;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
        animation: fadeInUp 0.3s ease;
      }

      .modal-card h3 {
        text-align: center;
        margin-bottom: 15px;
        color: #2e86c1;
      }

      .modal-card p {
        text-align: center;
        margin-bottom: 20px;
        color: #444;
        font-size: 14px;
      }

      .form-group {
        display: flex;
        flex-direction: column;
        margin-bottom: 15px;
      }

      .form-group label {
        font-size: 14px;
        margin-bottom: 6px;
        color: #555;
      }

      .form-group input {
        padding: 11px 12px;
        border-radius: 10px;
        border: 1px solid #ccc;
        font-size: 14px;
      }

      .modal-actions {
        display: flex;
        gap: 10px;
        margin-top: 20px;
      }

      .modal-actions button {
        flex: 1;
        padding: 10px;
        border-radius: 10px;
        font-size: 14px;
      }

      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(15px);
        }

        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
    </style>
  </head>

  <body>
    <header>
      <h2>ğŸ‘¤ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</h2>
      <nav class="breadcrumbs">
        <a href="../index.html" class="home">Ø§Ù„Ø£Ù‚Ø³Ø§Ù…</a>
        <span class="separator">â€º</span>
        <span class="current">Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</span>
        <span class="separator">â€º</span>
        <a href="../pages/products.html" class="home">Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</a>
        <span class="separator">â€º</span>
        <a href="../pages/sales.html" class="home">Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª</a>
        <span class="separator">â€º</span>
        <a href="../pages/purchases.html" class="home"> Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª</a>
        <span class="separator">â€º</span>
        <a href="../pages/income.html" class="home">Ø§Ù„Ù…Ù‚Ø¨ÙˆØ¶Ø§Øª</a>
        <span class="separator">â€º</span>
        <a href="../pages/expenses.html" class="home">Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª</a>
        <span class="separator">â€º</span>
        <a href="../pages/cash.html" class="home">Ø§Ù„Ø®Ø²ÙŠÙ†Ø©</a>
      </nav>
    </header>

    <section>
      <div class="card">
        <h3>â• Ø¥Ø¶Ø§ÙØ© Ø¹Ù…ÙŠÙ„ Ø¬Ø¯ÙŠØ¯</h3>
        <div class="form-row">
          <input type="text" id="customerName" placeholder="Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„" />
          <input
            type="number"
            id="openingBalance"
            placeholder="Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ø§ÙØªØªØ§Ø­ÙŠ"
          />
          <button class="btn-add" id="addCustomerBtn">âœš Ø¥Ø¶Ø§ÙØ©</button>
        </div>
      </div>

      <div class="card">
        <h3>ğŸ“‹ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</h3>
        <!-- Ø­Ù‚Ù„ Ø§Ù„Ø¨Ø­Ø« -->
        <input
          type="text"
          id="searchCustomer"
          placeholder="ğŸ” Ø§Ø¨Ø­Ø« Ø¨Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„..."
          style="
            display: block;
            padding: 10px;
            border-radius: 8px;
            border: 1px solid #ccc;
            margin: 0 auto 15px auto;
            width: 90%;
            max-width: 400px;
            font-size: 15px;
          "
        />
        <table id="customersTable">
          <thead>
            <tr>
              <th>Ø§Ù„Ø§Ø³Ù…</th>
              <th>Ø§Ù„Ø±ØµÙŠØ¯</th>
              <th>Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>

        <a href="../index.html" class="back-btn">ğŸ  Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
      </div>
    </section>

    <!-- Alert Modal -->
    <div id="appModal" class="modal-overlay">
      <div class="modal-card">
        <h3 id="modalTitle">ØªÙ†Ø¨ÙŠÙ‡</h3>
        <p id="modalMessage"></p>
        <div class="modal-actions">
          <button class="btn-primary" onclick="closeModal()">Ø­Ø³Ù†Ø§Ù‹</button>
        </div>
      </div>
    </div>

    <!-- Edit Customer Modal -->
    <div id="editModal" class="modal-overlay">
      <div class="modal-card">
        <h3>ØªØ¹Ø¯ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„</h3>

        <div class="form-group">
          <label for="editCustomerName">Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„</label>
          <input type="text" id="editCustomerName" />
        </div>

        <div class="form-group">
          <label for="editOpeningBalance">Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ø§ÙØªØªØ§Ø­ÙŠ</label>
          <input type="number" id="editOpeningBalance" />
        </div>

        <div class="modal-actions">
          <button
            style="color: #000; font-weight: bold"
            class="btn-primary"
            onclick="saveCustomerEdit()"
          >
            Ø­ÙØ¸
          </button>
          <button
            style="background-color: #ffc107; color: #000; font-weight: bold"
            class="btn-primary"
            onclick="closeEditModal()"
          >
            Ø¥Ù„ØºØ§Ø¡
          </button>
        </div>
      </div>
    </div>

    <!-- Confirm Delete Modal -->
    <div id="deleteModal" class="modal-overlay">
      <div class="modal-card">
        <h3>ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø°Ù</h3>
        <p>
          Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø¹Ù…ÙŠÙ„ØŸ<br />Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù† Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡.
        </p>

        <div class="modal-actions">
          <button
            style="background-color: #e74c3c"
            class="btn-secondary"
            onclick="confirmDelete()"
          >
            Ø­Ø°Ù
          </button>
          <button class="btn-secondary" onclick="closeDeleteModal()">
            Ø¥Ù„ØºØ§Ø¡
          </button>
        </div>
      </div>
    </div>

    <!-- Customer Statement Modal -->

    <div id="statementModal" class="modal-overlay">
      <div class="modal-card" style="width: 600px; max-width: 95%">
        <h3>ÙƒØ´Ù Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¹Ù…ÙŠÙ„</h3>

        <p id="statementCustomerName" style="font-weight: bold"></p>

        <div class="statement-table-wrapper">
          <table>
            <thead>
              <tr>
                <th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th>
                <th>Ø§Ù„Ø¨ÙŠØ§Ù†</th>
                <th>Ù…Ø¯ÙŠÙ†</th>
                <th>Ø¯Ø§Ø¦Ù†</th>
                <th>Ø§Ù„Ø±ØµÙŠØ¯</th>
              </tr>
            </thead>
            <tbody id="statementBody"></tbody>
          </table>
        </div>

        <div class="modal-actions">
          <button class="btn-secondary" onclick="closeStatementModal()">
            Ø¥ØºÙ„Ø§Ù‚
          </button>
        </div>
      </div>
    </div>

    <script src="../js/data.js"></script>
    <script src="../js/customers.js"></script>
  </body>
</html>
